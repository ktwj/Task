<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>input{ margin: 20px;width:40%;height:50px;}</style>
</head>
<body>

    <input id="area" placeholder="Zでundoアラート"><br>
    <input onkeydown="return checkKey(event.key)" placeholder="数字と削除、移動のみ"><br>
    <input id="task" onkeydown="return runOnKeys" placeholder="Press Q and W together (can be in any language).">

    <script>
        area.addEventListener('keydown', function(event){
            if(event.code == 'KeyZ' || (event.ctrlKey || event.metaKey)){
                alert('undo');
                return;
            }
        });

        function checkKey(key){
            return (key >= '0' && key <= '9') || key =='+' || key == '(' || key == ')' || key == '-' ||
                    key == 'Backspace' || key == 'Delete' || key == 'ArrowLeft' || key == 'ArrowRight';
        }
        
        function runOnKeys(func, ...codes){
            let pressed = new Set();

            document.addEventListener('keydown', function(event){
                pressed.add(event.code);

                for(let code of codes){
                    if(!pressed.has(code)){
                        return;
                    }
                }
                pressed.clear();
                func();
            });
            task.addEventListener('keyup', function(event){
                pressed.delete(event.code);
            });
        }

        runOnKeys(func,'KeyQ','KeyW');

        function func(){
            alert('hello');
        }
    </script>

</body>
</html>